  <div class="container-fluid" >
    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators" >
    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
    <li data-target="#carousel-example-generic" data-slide-to="1"></li>
    <li data-target="#carousel-example-generic" data-slide-to="2"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox" >

    <div class="item active">
        <%= cl_image_tag @car.photos[0].path, crop: :fill %>
    </div>

  <% @car.photos[1..-1].each do |photo| %>
    <div class="item" >
      <%= cl_image_tag photo.path, crop: :fill %>
    </div>
  <% end %>

  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
  </div>
<div class="container">
  <div class="show-main"></div>


  <div class="sidebar">
    <div class="price">
      <span class="currency">$</span>
      <span class="amount"> <%= @car.price %> </span>
      <div class="per">per day</div>
    </div>

    <p id="notice"><%= notice %></p>


<%= link_to 'Edit', edit_car_path(@car) %> |
<%= link_to 'Back', cars_path %>
  </div>
  <div class="show-main">
      <div class="section" style="margin-top: 50px; width:100%;">
        <div class="col-xs-3 main-title">The car</div>
        <div class="col-xs-9 main-details">
          <div class="row">
            <div class="col-xs-4 list-details"> <%= @car.model.brand.brand_name %></div>
            <div class="col-xs-4 list-details"> <%= @car.model.name %></div>
            <div class="col-xs-4 list-details"> <%= @car.year %></div>
          </div> <br>
          <div class="row">
            <div class="col-xs-4 list-details"> <%= @car.odometer %></div>
            <div class="col-xs-4 list-details"> <%= @car.fuel_type %></div>
            <div class="col-xs-4 list-details"> <%= @car.transmission %></div>
          </div>
        </div>
      </div>

    <div class="section" style="margin-top: 50px; width:100%;">
      <div class="col-xs-3 main-title">Description</div>
      <div class="col-xs-9 main-details"><%= @car.description %></div>
    </div>
    <div class="section" style="margin-top: 50px; width:100%;">
      <div class="col-xs-3 main-title">Features</div>
      <div class="col-xs-9 main-details">
          <div class="row">
            <div class="col-xs-4 list-details"> <%= @car.engine_power_cc %></div>
            <div class="col-xs-4 list-details"> <%= @car.engine_power_hp %></div>
            <div class="col-xs-4 list-details"> <%= %></div>
          </div>
      </div>
    </div>
     <div style="clear:both;"></div>
  </div>

</div>
<%= image_tag "https://maps.googleapis.com/maps/api/staticmap?zoom=15&size=400x300&sensor=false&maptype=roadmap&markers=color:red|#{@car.address}" %>

<div id="map" style="width: 100%; height: 600px;"></div>

<% content_for(:after_js) do %>
  <%= javascript_tag do %>
    $(document).ready(function() {
      var handler = Gmaps.build('Google');
      handler.buildMap({ internal: { id: 'map' } }, function() {
        markers = handler.addMarkers(<%= raw @hash.to_json %>);
        handler.bounds.extendWith(markers);
        handler.fitMapToBounds();
        if (markers.length == 0) {
          handler.getMap().setZoom(2);
        } else if (markers.length == 1) {
          handler.getMap().setZoom(14);
        }
      });
    });
  <% end %>
<% end %>
